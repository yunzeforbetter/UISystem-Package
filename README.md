# UISystem-Package - é«˜æ€§èƒ½UIç³»ç»Ÿ

[![Unity Version](https://img.shields.io/badge/Unity-2022.3%2B-blue.svg)](https://unity3d.com/get-unity/download)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

## ğŸš€ é¡¹ç›®ç®€ä»‹

è¯¥æ¡†æ¶é›†æˆäº†ç°ä»£UIå¼€å‘æ‰€éœ€çš„æ ¸å¿ƒåŠŸèƒ½ï¼ŒåŒ…æ‹¬æ™ºèƒ½å †æ ˆç®¡ç†ã€è™šæ‹ŸåŒ–æ— é™æ»šåŠ¨ã€è¿è¡Œæ—¶åŠ¨æ€å›¾é›†ä¼˜åŒ–å’Œå®æ—¶æ¨¡ç³ŠèƒŒæ™¯æ•ˆæœã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ”„ æ™ºèƒ½UIå †æ ˆç®¡ç†
- **å¤šå±‚çº§ç®¡ç†**ï¼šæ”¯æŒå¤šä¸ªUIå±‚çº§ï¼Œè‡ªåŠ¨å¤„ç†æ¸²æŸ“é¡ºåº
- **ç”Ÿå‘½å‘¨æœŸæ§åˆ¶**ï¼šå®Œæ•´çš„é¢æ¿ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆShow/Hide/Pause/Resumeï¼‰
- **å¯¹è±¡æ± ä¼˜åŒ–**ï¼šå†…ç½®å¯¹è±¡æ± ç³»ç»Ÿï¼Œå‡å°‘GCå‹åŠ›ï¼Œæå‡æ€§èƒ½
- **ç±»å‹å®‰å…¨**ï¼šå¼ºç±»å‹UIç®¡ç†ï¼Œé¿å…è¿è¡Œæ—¶é”™è¯¯

```csharp
// æ‰“å¼€UIé¢æ¿
UIManager.Instance.OpenPanel<MainMenuPanel>("UI/MainMenu", data);

// å…³é—­UIé¢æ¿
UIManager.Instance.CloseUI("UI/MainMenu");
```

### ğŸ“œ è™šæ‹ŸåŒ–æ— é™åˆ—è¡¨
- **é«˜æ€§èƒ½æ¸²æŸ“**ï¼šè™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œæ”¯æŒæ•°ä¸‡æ¡æ•°æ®æµç•…æ»šåŠ¨
- **å¾ªç¯æ»šåŠ¨**ï¼šæ”¯æŒæ— é™å¾ªç¯æ»šåŠ¨ï¼Œå®Œç¾ç”¨æˆ·ä½“éªŒ
- **åŠ¨æ€åˆ·æ–°**ï¼šæ™ºèƒ½æ•°æ®æ›´æ–°ï¼Œä»…åˆ·æ–°å¯è§åŒºåŸŸå…ƒç´ 
- **çµæ´»å¸ƒå±€**ï¼šæ”¯æŒå‚ç›´/æ°´å¹³/ç½‘æ ¼å¤šç§å¸ƒå±€æ¨¡å¼

```csharp
// åˆå§‹åŒ–åˆ—è¡¨
listView.Configure<T>(path, OnCreateCell, OnShowCell);
listView.SetDataSource(dataCount);

// åŠ¨æ€åˆ·æ–°å•ä¸ªå…ƒç´ 
listView.TryRefreshCellRT(dataIndex);
```

### ğŸ¨ è¿è¡Œæ—¶åŠ¨æ€å›¾é›†
- **æ™ºèƒ½çº¹ç†åˆå¹¶**ï¼šè¿è¡Œæ—¶è‡ªåŠ¨åˆå¹¶å°çº¹ç†ï¼Œå‡å°‘Draw Call
- **å†…å­˜ä¼˜åŒ–**ï¼šçŸ©å½¢æ‰“åŒ…ç®—æ³•ï¼Œæœ€å¤§åŒ–çº¹ç†ç©ºé—´åˆ©ç”¨ç‡
- **å¼‚æ­¥åŠ è½½**ï¼šæ”¯æŒå¼‚æ­¥çº¹ç†åŠ è½½ï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹
- **è‡ªåŠ¨å›æ”¶**ï¼šæ™ºèƒ½å†…å­˜ç®¡ç†ï¼Œè‡ªåŠ¨å›æ”¶unusedçº¹ç†

```csharp
// è®¾ç½®åŠ¨æ€çº¹ç†
DynamicRawImage.SetIcon(texturePath);

```

### ğŸŒ«ï¸ å®æ—¶æ¨¡ç³ŠèƒŒæ™¯
- **å¤šæ¨¡å¼æ”¯æŒ**ï¼šå…¼å®¹Screen Space Overlay/Cameraæ¨¡å¼
- **å®æ—¶æˆªå›¾**ï¼šé«˜æ•ˆçš„èƒŒæ™¯æˆªå›¾æŠ€æœ¯
- **é«˜æ–¯æ¨¡ç³Š**ï¼šå¯é…ç½®çš„æ¨¡ç³Šå¼ºåº¦å’Œæ•ˆæœ
- **æ€§èƒ½ä¼˜åŒ–**ï¼šæ™ºèƒ½ç¼“å­˜ï¼Œé¿å…é‡å¤è®¡ç®—

```csharp
// å¯ç”¨æ¨¡ç³ŠèƒŒæ™¯
blurController.BlurBg();

```

## ğŸ› ï¸ ç¼–è¾‘å™¨å·¥å…·é›†

### ğŸ”§ å¼ºå¤§çš„ç¼–è¾‘å™¨æ‰©å±•
- **ä»£ç ç”Ÿæˆå™¨**ï¼šè‡ªåŠ¨ç”ŸæˆUIç»‘å®šä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡
- **ç»„ä»¶åˆ›å»ºåŠ©æ‰‹**ï¼šå¿«é€Ÿåˆ›å»ºæ ‡å‡†UIç»„ä»¶
- **é¢„åˆ¶ä½“æ¨¡æ¿**ï¼šå†…ç½®ListView/GridViewé¢„åˆ¶ä½“æ¨¡æ¿
- **å¯è§†åŒ–è°ƒè¯•**ï¼šä¸°å¯Œçš„Inspectoré¢æ¿ï¼Œç›´è§‚çš„å‚æ•°è°ƒæ•´

### ğŸ“Š æ€§èƒ½åˆ†æå·¥å…·
- **åŠ¨æ€å›¾é›†é¢„è§ˆ**ï¼šå®æ—¶æŸ¥çœ‹å›¾é›†ä½¿ç”¨æƒ…å†µ
- **å†…å­˜ä½¿ç”¨ç»Ÿè®¡**ï¼šç›‘æ§UIç³»ç»Ÿå†…å­˜å ç”¨
- **æ€§èƒ½åˆ†æå™¨**ï¼šè¯†åˆ«æ€§èƒ½ç“¶é¢ˆ

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å®‰è£…æ–¹å¼

#### Package Managerå®‰è£…ï¼ˆæ¨èï¼‰
1. æ‰“å¼€Unity Editor
2. è¿›å…¥ `Window > Package Manager`
3. ç‚¹å‡»å·¦ä¸Šè§’çš„ `+` æŒ‰é’®
4. é€‰æ‹© `Add package from git URL`
5. è¾“å…¥ï¼š`https://github.com/yunzeforbetter/UISystem-Package.git`

æˆ–è€…åœ¨é¡¹ç›®çš„ `Packages/manifest.json` æ–‡ä»¶ä¸­æ·»åŠ ï¼š
```json
{
  "dependencies": {
    "com.framework.uisystem": "https://github.com/yunzeforbetter/UISystem-Package.git"
  }
}
```

#### Unity Packageå¯¼å…¥
2. åœ¨Unityä¸­é€‰æ‹© `Assets > Import Package > Custom Package`
3. é€‰æ‹©ä¸‹è½½çš„ `.unitypackage` æ–‡ä»¶å¯¼å…¥

### åŸºç¡€é…ç½®

#### 1. è®¾ç½®UIæ ¹èŠ‚ç‚¹
```csharp
// åœ¨åœºæ™¯ä¸­åˆ›å»ºCanvasï¼Œå¹¶è®¾ç½®ä¸ºUIæ ¹èŠ‚ç‚¹
public class UIInitializer : MonoBehaviour
{
    [SerializeField] private Canvas uiCanvas;
    [SerializeField] private IResourceManager resourceManager;
    
    void Start()
    {
        // åˆå§‹åŒ–UIç®¡ç†å™¨
        UIManager.Instance.SetUIRoot(uiCanvas);
        UIManager.Instance.SetResourcesMgr(resourceManager);
    }
}
```

#### 2. åˆ›å»ºUIé¢æ¿ç±»
```csharp
public class MainMenuPanel : UIPanelViewRef<MainMenuPanel>
{
    // å®šä¹‰UIå±‚çº§
    public override E_UILayer UILayer => E_UILayer.Normal;
    
    // æ˜¯å¦å…¨å±æ˜¾ç¤º
    public override bool IsFullScreen => true;
    
     public override void OnAwake()
    {
        base.OnAwake();
    }
	public override void SetData(object data)
    {
        base.SetData(data);
        Debug.Log($" SetData  {data}");
    }
    // æ˜¾ç¤ºæ—¶è°ƒç”¨
    public override void OnShow()
    {
        base.OnShow();
        Debug.Log("ä¸»èœå•é¢æ¿æ˜¾ç¤º");
    }
    
    // å…³é—­æ—¶è°ƒç”¨
    public override void OnClose()
    {
        base.OnClose();
        Debug.Log("ä¸»èœå•é¢æ¿å…³é—­");
    }
    
}
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
com.framework.uisystem/
â”œâ”€â”€ Runtime/                    # è¿è¡Œæ—¶æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ core/                  # æ ¸å¿ƒUIç®¡ç†ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ UIManager.cs       # UIç®¡ç†å™¨ä¸»ç±»
â”‚   â”‚   â”œâ”€â”€ UIBasePanel.cs     # UIé¢æ¿åŸºç±»
â”‚   â”‚   â””â”€â”€ UIPanelPool.cs     # UIå¯¹è±¡æ± ç®¡ç†
â”‚   â”œâ”€â”€ UIExtend/              # æ‰©å±•åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ScrollList/        # è™šæ‹ŸåŒ–æ»šåŠ¨åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ UIListView.cs  # åˆ—è¡¨è§†å›¾ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ UIGridView.cs  # ç½‘æ ¼è§†å›¾ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ DynamicAtlas/      # åŠ¨æ€å›¾é›†ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ DynamicAtlas.cs # åŠ¨æ€å›¾é›†æ ¸å¿ƒ
â”‚   â”‚   â”‚   â””â”€â”€ DynamicAtlasManager.cs # å›¾é›†ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ BlurBackground/    # æ¨¡ç³ŠèƒŒæ™¯æ•ˆæœ
â”‚   â”‚       â””â”€â”€ BlurController.cs # æ¨¡ç³Šæ§åˆ¶å™¨
â”‚   â”œâ”€â”€ PrefabReference.cs     # é¢„åˆ¶ä½“å¼•ç”¨ç»„ä»¶
â”‚   â””â”€â”€ UIConst.cs            # UIå¸¸é‡å®šä¹‰
â”œâ”€â”€ Editor/                    # ç¼–è¾‘å™¨å·¥å…·
â”‚   â”œâ”€â”€ Tools/                 # å¼€å‘å·¥å…·é›†
â”‚   â”‚   â”œâ”€â”€ CodeGen/          # ä»£ç ç”Ÿæˆå·¥å…·
â”‚   â”‚   â””â”€â”€ UIPrefabGen.cs    # UIé¢„åˆ¶ä½“ç”Ÿæˆå·¥å…·
â”‚   â””â”€â”€ UIExtend/              # UIæ‰©å±•ç¼–è¾‘å™¨
â”‚       â”œâ”€â”€ ScrollList/        # æ»šåŠ¨åˆ—è¡¨ç¼–è¾‘å™¨
â”‚       â””â”€â”€ DynamicAtlas/      # åŠ¨æ€å›¾é›†ç¼–è¾‘å™¨
â””â”€â”€ package.json               # Packageé…ç½®æ–‡ä»¶
```

## ğŸ¯ é€‚ç”¨åœºæ™¯

- **æ‰‹æœºæ¸¸æˆ**ï¼šç§»åŠ¨ç«¯UIä¼˜åŒ–ï¼Œé€‚é…å„ç§åˆ†è¾¨ç‡
- **PCæ¸¸æˆ**ï¼šå¤æ‚UIç•Œé¢ï¼Œæ”¯æŒé«˜åˆ†è¾¨ç‡æ˜¾ç¤º  
- **åº”ç”¨è½¯ä»¶**ï¼šä¼ä¸šçº§åº”ç”¨UIå¼€å‘
- **VR/ARåº”ç”¨**ï¼š3Dç©ºé—´UIäº¤äº’

## ğŸ”§ ç³»ç»Ÿè¦æ±‚

- **Unityç‰ˆæœ¬**ï¼š2022.3 LTS æˆ–æ›´é«˜ç‰ˆæœ¬
- **å¹³å°æ”¯æŒ**ï¼šWindowsã€macOSã€Linuxã€iOSã€Android
- **æ¸²æŸ“ç®¡çº¿**ï¼šæ”¯æŒBuilt-inã€URPã€HDRP
- **.NETç‰ˆæœ¬**ï¼š.NET Standard 2.1

## ğŸ“ˆ æ€§èƒ½ä¼˜åŠ¿

| ç‰¹æ€§ | ä¼ ç»Ÿæ–¹æ¡ˆ | æœ¬æ¡†æ¶ | æ€§èƒ½æå‡ |
|------|----------|---------|----------|
| å¤§é‡UIå…ƒç´  | å¡é¡¿æ˜æ˜¾ | æµç•…è¿è¡Œ | **10x+** |
| çº¹ç†åŠ è½½ | é¢‘ç¹IOæ“ä½œ | åŠ¨æ€åˆå¹¶ | **5x+** |
| å†…å­˜å ç”¨ | æŒç»­å¢é•¿ | æ™ºèƒ½å›æ”¶ | **-60%** |
| Draw Call | æ•°é‡è¾ƒå¤š | å¤§å¹…å‡å°‘ | **-80%** |

## ğŸ“š æ–‡æ¡£å’Œç¤ºä¾‹

### APIæ–‡æ¡£
- [æ ¸å¿ƒAPIå‚è€ƒ](docs/api/core.md)
- [åˆ—è¡¨ç»„ä»¶API](docs/api/scrolllist.md)
- [åŠ¨æ€å›¾é›†API](docs/api/dynamicatlas.md)
- [æ¨¡ç³ŠèƒŒæ™¯API](docs/api/blur.md)

### ç¤ºä¾‹é¡¹ç›®
- [åŸºç¡€UIæ¼”ç¤º](examples/BasicUI/)
- [æ— é™åˆ—è¡¨ç¤ºä¾‹](examples/InfiniteList/)
- [åŠ¨æ€å›¾é›†æ¼”ç¤º](examples/DynamicAtlas/)
- [æ¨¡ç³Šæ•ˆæœç¤ºä¾‹](examples/BlurEffect/)

## ğŸ› å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è‡ªå®šä¹‰UIå±‚çº§ï¼Ÿ
A: åœ¨é¡¹ç›®çš„ `UIEnumType.cs` æ–‡ä»¶ä¸­ä¿®æ”¹ `E_UILayer` æšä¸¾ï¼Œæ·»åŠ æ‚¨éœ€è¦çš„å±‚çº§ã€‚

### Q: åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼Ÿ
A: 
1. åˆç†è®¾ç½®Cellå¤§å°ï¼Œé¿å…è¿‡å°æˆ–è¿‡å¤§
2. åœ¨OnShowCellä¸­åªæ›´æ–°å¿…è¦çš„UIå…ƒç´ 
3. ä½¿ç”¨å¯¹è±¡æ± ç®¡ç†å¤æ‚çš„Cellå†…å®¹

### Q: åŠ¨æ€å›¾é›†ä¸ç”Ÿæ•ˆæ€ä¹ˆåŠï¼Ÿ
A: 
1. æ£€æŸ¥çº¹ç†å¯¼å…¥è®¾ç½®ï¼Œç¡®ä¿Read/Write Enableå¼€å¯
2. éªŒè¯çº¹ç†æ ¼å¼å…¼å®¹æ€§
3. æŸ¥çœ‹Consoleé”™è¯¯æ—¥å¿—

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/develop`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some Todo'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/develop`)
5. åˆ›å»º Pull Request

### å¼€å‘è·¯çº¿å›¾
- [ ] æ”¯æŒAddressableèµ„æºç®¡ç†
- [ ] å¢åŠ UIåŠ¨ç”»ç³»ç»Ÿ
- [ ] é›†æˆMVVMæ¶æ„æ¨¡å¼
- [ ] æ·»åŠ æ›´å¤šå¸ƒå±€ç»„ä»¶
- [ ] ä¼˜åŒ–ç§»åŠ¨ç«¯æ€§èƒ½
- [ ] æ”¯æŒå¤šè¯­è¨€æœ¬åœ°åŒ–
- [ ] æ·»åŠ UIéŸ³æ•ˆç³»ç»Ÿ

### ä»£ç è§„èŒƒ
- ä½¿ç”¨C#å‘½åçº¦å®š
- æ·»åŠ XMLæ–‡æ¡£æ³¨é‡Š
- ä¿æŒä»£ç ç®€æ´å¯è¯»
- ç¼–å†™å•å…ƒæµ‹è¯•

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®®å¼€æº - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹è´¡çŒ®è€…å’Œé¡¹ç›®ï¼š
- Unity Technologies æä¾›å¼ºå¤§çš„æ¸¸æˆå¼•æ“
- ç¤¾åŒºå¼€å‘è€…çš„å®è´µåé¦ˆå’Œå»ºè®®
- æ‰€æœ‰ä¸ºé¡¹ç›®è´¡çŒ®ä»£ç çš„å¼€å‘è€…

---

â­ **å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªStarï¼**

ğŸ› **é—®é¢˜åé¦ˆ**ï¼š[GitHub Issues](https://github.com/yunzeforbetter/UISystem-Package/issues)

## æ›´æ–°æ—¥å¿—

### v1.0.0
- ğŸ‰ é¦–æ¬¡å‘å¸ƒ
- âœ¨ å®ç°æ™ºèƒ½UIå †æ ˆç®¡ç†
- âœ¨ æ·»åŠ è™šæ‹ŸåŒ–æ— é™åˆ—è¡¨
- âœ¨ é›†æˆè¿è¡Œæ—¶åŠ¨æ€å›¾é›†
- âœ¨ æ”¯æŒå®æ—¶æ¨¡ç³ŠèƒŒæ™¯æ•ˆæœ
- ğŸ› ï¸ å®Œå–„ç¼–è¾‘å™¨å·¥å…·é›†
- ğŸ“š æ·»åŠ å®Œæ•´æ–‡æ¡£å’Œç¤ºä¾‹
